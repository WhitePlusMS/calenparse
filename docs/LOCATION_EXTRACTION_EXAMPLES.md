# 地点提取功能说明

## 功能概述

统计视图中的地点分布现在会智能地将详细地址提取到区级别，以便更好地聚合统计数据。

## 提取规则

### 1. 完整地址提取区级
- **输入**: `北京市朝阳区酒仙桥路写字楼颐堤港一座14层`
- **输出**: `朝阳区`

- **输入**: `上海市浦东新区陆家嘴金融中心`
- **输出**: `浦东新区`

- **输入**: `广州市天河区珠江新城`
- **输出**: `天河区`

### 2. 已经是区级的保持不变
- **输入**: `朝阳区`
- **输出**: `朝阳区`

- **输入**: `海淀区`
- **输出**: `海淀区`

### 3. 新区类型
- **输入**: `上海市浦东新区`
- **输出**: `浦东新区`

- **输入**: `天津市滨海新区`
- **输出**: `滨海新区`

### 4. 县级单位
- **输入**: `河北省固安县`
- **输出**: `固安县`

### 5. 无法识别的地点保持原样
- **输入**: `会议室A`
- **输出**: `会议室A`

- **输入**: `线上会议`
- **输出**: `线上会议`

- **输入**: `公司总部`
- **输出**: `公司总部`

### 6. 空地点
- **输入**: `` (空字符串)
- **输出**: `未指定地点`

## 聚合效果

### 优化前
```
地点分布：
- 北京市朝阳区酒仙桥路写字楼颐堤港一座14层: 1个 (33%)
- 北京市朝阳区建国路88号SOHO现代城: 1个 (33%)
- 朝阳区三里屯太古里: 1个 (33%)
```

### 优化后
```
地点分布：
- 朝阳区: 3个 (100%)
```

## 技术实现

使用正则表达式匹配中国地址格式：
1. 匹配 "XX省XX市XX区" 格式
2. 匹配 "XX市XX区" 格式
3. 匹配独立的 "XX区" 或 "XX县"
4. 匹配 "XX新区" 格式
5. 如果都不匹配，保留原始地点名称

## 使用场景

这个功能特别适合：
- 统计分析不同区域的活动分布
- 查看哪些区域的活动最多
- 生成区域级别的报表
- 避免因地址细节不同而导致的统计分散
