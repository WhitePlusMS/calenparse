<div align="center">
  <img src="public/logo.svg" width="150" alt="CalenParse Logo">
  <h1>CalenParse (æ™ºèƒ½æ—¥å†è§£æ)</h1>
  <p>åŸºäº Vue 3 + AI å¤§æ¨¡å‹çš„æ™ºèƒ½å€’è®¡æ—¶ä¸æ—¥ç¨‹ç®¡ç†ç³»ç»Ÿ</p>
  <p>
    <img src="https://img.shields.io/badge/Framework-Vue_3-4FC08D" alt="Vue 3">
    <img src="https://img.shields.io/badge/Language-TypeScript-3178C6" alt="TypeScript">
    <img src="https://img.shields.io/badge/UI-Element_Plus-409EFF" alt="Element Plus">
    <img src="https://img.shields.io/badge/Database-Supabase-3ECF8E" alt="Supabase">
    <img src="https://img.shields.io/badge/AI-LLM_Parser-FF9900" alt="AI">
    <img src="https://img.shields.io/badge/License-MIT-blue" alt="License">
  </p>
</div>

> ğŸ† **æ ¸å¿ƒç†å¿µ**ï¼šè®©æ—¥ç¨‹åˆ›å»ºåƒèŠå¤©ä¸€æ ·ç®€å•
>
> ğŸ¯ **CalenParse æ˜¯ä»€ä¹ˆï¼Ÿ**
>
> **å®ƒæ˜¯ä½ çš„â€œAI æ™ºèƒ½æ—¥ç¨‹åŠ©ç†â€ â€”â€” ä¸“ä¸ºé«˜æ•ˆæ—¶é—´ç®¡ç†è®¾è®¡ã€‚**
>
> **å®ƒèƒ½å¸®ä½ åšä»€ä¹ˆï¼Ÿ**
> 1.  **AI è¯­ä¹‰è§£æ**ï¼šè¾“å…¥â€œä¸‹å‘¨ä¸‰ä¸‹åˆä¸‰ç‚¹å¼€ä¼šâ€ï¼Œè‡ªåŠ¨è¯†åˆ«æ—¶é—´ã€åœ°ç‚¹ã€ä¸»é¢˜ï¼Œ**å‘Šåˆ«ç¹ççš„è¡¨å•å¡«å†™**ã€‚
> 2.  **åŒæ¨¡å¼æ— ç¼ä½“éªŒ**ï¼š
>     *   **è®¿å®¢æ¨¡å¼**ï¼šæ— éœ€æ³¨å†Œï¼ŒåŸºäºæµè§ˆå™¨æŒ‡çº¹å³åˆ»ä½¿ç”¨ï¼Œå…è´¹ä½“éªŒ AI è§£æã€‚
>     *   **ç®¡ç†å‘˜æ¨¡å¼**ï¼šè§£é”å®Œæ•´æƒé™ï¼Œäº‘ç«¯åŒæ­¥ï¼Œå¤šè®¾å¤‡æ— ç¼æµè½¬ã€‚
> 3.  **å¤šç»´è§†å›¾ç®¡ç†**ï¼šæ—¥å†ã€åˆ—è¡¨ã€ç»Ÿè®¡å›¾è¡¨ï¼Œå…¨æ–¹ä½æŒæ§ä½ çš„æ—¶é—´ã€‚
> 4.  **æ™ºèƒ½å€’è®¡æ—¶**ï¼šä¸ä»…ä»…æ˜¯æ—¥å†ï¼Œæ›´æ˜¯ä½ çš„â€œæ—¶é—´ç„¦è™‘ç¼“è§£å™¨â€ï¼Œå®æ—¶æ˜¾ç¤ºé‡è¦äº‹ä»¶å€’è®¡æ—¶ã€‚

---

## ğŸ“± æ ¸å¿ƒåŠŸèƒ½é¢„è§ˆ

|                      **æ—¥å†è§†å›¾**                      |                        **åˆ—è¡¨ç®¡ç†**                        |                        **äº‹ä»¶è¯¦æƒ…**                        |
| :----------------------------------------------------: | :--------------------------------------------------------: | :--------------------------------------------------------: |
| <img src="assets/ä¸»ç•Œé¢.png" width="240" alt="ä¸»ç•Œé¢"> | <img src="assets/åˆ—è¡¨ç•Œé¢.png" width="240" alt="åˆ—è¡¨ç•Œé¢"> | <img src="assets/äº‹ä»¶è¯¦æƒ….png" width="240" alt="äº‹ä»¶è¯¦æƒ…"> |

|                        **æ ‡ç­¾ç³»ç»Ÿ**                        |                        **ä¸»é¢˜å®šåˆ¶**                        |                         **åˆ†äº«å¯¼å‡º**                         |
| :--------------------------------------------------------: | :--------------------------------------------------------: | :----------------------------------------------------------: |
| <img src="assets/æ ‡ç­¾ç®¡ç†.png" width="240" alt="æ ‡ç­¾ç®¡ç†"> | <img src="assets/ä¸»é¢˜è®¾ç½®.png" width="240" alt="ä¸»é¢˜è®¾ç½®"> | <img src="assets/åˆ†äº«ä¸ºå›¾ç‰‡.png" width="240" alt="åˆ†äº«åŠŸèƒ½"> |

---

## ğŸ“– 1. é¡¹ç›®èƒŒæ™¯ä¸è®¾è®¡æ€è·¯

### 1.1 ç—›ç‚¹åˆ†æ

åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸æ”¶åˆ°ç¢ç‰‡åŒ–çš„æ—¥ç¨‹ä¿¡æ¯ï¼ˆå¦‚èŠå¤©è®°å½•ã€é‚®ä»¶é€šçŸ¥ï¼‰ã€‚å°†è¿™äº›ä¿¡æ¯å½•å…¥åˆ°æ—¥å†åº”ç”¨ä¸­é€šå¸¸éœ€è¦ï¼šæ‰“å¼€åº”ç”¨ -> é€‰æ‹©æ—¥æœŸ -> é€‰æ‹©æ—¶é—´ -> å¡«å†™æ ‡é¢˜ -> å¡«å†™åœ°ç‚¹ -> è®¾ç½®æé†’ã€‚**æ­¥éª¤ç¹çï¼Œä¸­æ–­æ„Ÿå¼º**ã€‚

æ­¤å¤–ï¼Œå¤§å¤šæ•°æ—¥å†åº”ç”¨è¦ä¹ˆå¼ºåˆ¶æ³¨å†Œï¼ˆé—¨æ§›é«˜ï¼‰ï¼Œè¦ä¹ˆçº¯æœ¬åœ°å­˜å‚¨ï¼ˆæ— æ³•è·¨è®¾å¤‡ï¼‰ã€‚

### 1.2 æ ¸å¿ƒè®¾è®¡ç†å¿µ

æœ¬é¡¹ç›®è‡´åŠ›äºæ‰“é€ **â€œé›¶æ‘©æ“¦â€**çš„æ—¥ç¨‹å½•å…¥ä½“éªŒï¼š

*   **AI First**ï¼šåˆ©ç”¨å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„è‡ªç„¶è¯­è¨€å¤„ç†èƒ½åŠ›ï¼Œå®ç°â€œä¸€é”®è§£æï¼Œè‡ªåŠ¨å¡«å•â€ã€‚
*   **æ¸è¿›å¼è´¦æˆ·ä½“ç³»**ï¼š
    *   **æŒ‡çº¹è¯†åˆ«**ï¼šè®¿å®¢æ— éœ€ç™»å½•ï¼Œåˆ©ç”¨ `FingerprintJS` ç”Ÿæˆå”¯ä¸€æ ‡è¯†ï¼Œæ•°æ®å­˜äº‘ç«¯ä½†ä¸ç»‘å®šèº«ä»½ï¼Œå³ç”¨å³èµ°ã€‚
    *   **å¹³æ»‘å‡çº§**ï¼šéœ€è¦é•¿æœŸä¿å­˜æˆ–å¤šç«¯åŒæ­¥æ—¶ï¼Œå¯éšæ—¶å‡çº§ä¸ºç®¡ç†å‘˜è´¦æˆ·ã€‚

---

## ğŸ› ï¸ 2. æŠ€æœ¯æ ˆæ¦‚è§ˆ

æœ¬é¡¹ç›®é‡‡ç”¨ç°ä»£åŒ–çš„å‰ç«¯æŠ€æœ¯æ ˆï¼Œç»“åˆ Serverless åç«¯æœåŠ¡ã€‚

### 2.1 æ ¸å¿ƒæ¡†æ¶

*   **å‰ç«¯æ¡†æ¶**: Vue 3 (Composition API) + Vite
*   **è¯­è¨€**: TypeScript (Strict Mode)
*   **UI ç»„ä»¶åº“**: Element Plus (å®šåˆ¶åŒ–ä¸»é¢˜)
*   **æ—¥å†å¼•æ“**: FullCalendar (DayGrid, TimeGrid, MultiMonth)
*   **æ•°æ®å¯è§†åŒ–**: Chart.js + Vue-Chartjs

### 2.2 æ•°æ®ä¸æœåŠ¡

*   **äº‘æ•°æ®åº“**: Supabase (PostgreSQL) - å®æ—¶æ•°æ®åŒæ­¥
*   **èº«ä»½è®¤è¯**: Supabase Auth + FingerprintJS (æ— æ„Ÿè®¤è¯)
*   **AI å¼•æ“**: OpenAI æ¥å£æ ‡å‡† (æ”¯æŒ GLM-4/GPT-4o ç­‰)
*   **å·¥å…·åº“**:
    *   `Day.js`: å¼ºå¤§çš„æ—¥æœŸå¤„ç†
    *   `Pinia`: çŠ¶æ€ç®¡ç†
    *   `html2canvas`: DOM è½¬å›¾ç‰‡åˆ†äº«

---

## ğŸ—ï¸ 3. ç³»ç»Ÿæ¶æ„ï¼šåŒè½¨åˆ¶æ•°æ®æµ

ä¸ºäº†å…¼é¡¾â€œéšç§ä¾¿åˆ©â€ä¸â€œåŠŸèƒ½å®Œæ•´â€ï¼Œæœ¬é¡¹ç›®è®¾è®¡äº†ç‹¬ç‰¹çš„**åŒè½¨åˆ¶ï¼ˆDual-Trackï¼‰**æ•°æ®æ¶æ„ã€‚

```mermaid
graph TD
    subgraph Client ["å®¢æˆ·ç«¯ (Vue 3)"]
        User[ç”¨æˆ·] -->|è¾“å…¥è‡ªç„¶è¯­è¨€| Input[AI æµ®åŠ¨è¾“å…¥æ¡†]
        Input -->|API è¯·æ±‚| LLM[å¤§è¯­è¨€æ¨¡å‹]
        LLM -->|è§£æç»“æœ JSON| Parser[äº‹ä»¶ç”Ÿæˆå™¨]
        
        subgraph Mode ["æ¨¡å¼åˆ†æµ"]
            direction TB
            Visitor[ğŸ‘¤ è®¿å®¢æ¨¡å¼]
            Admin[ğŸ” ç®¡ç†å‘˜æ¨¡å¼]
        end
        
        Parser --> Mode
    end

    subgraph Server ["æœåŠ¡ç«¯ (Supabase)"]
        direction TB
        DB_Visitor[(visitor_events è¡¨)]
        DB_Admin[(events è¡¨)]
        DB_Session[(visitor_sessions è¡¨)]
        
        Visitor -->|Fingerprint ID| DB_Visitor
        Visitor -->|é…é¢ç›‘æ§| DB_Session
        Admin -->|User ID| DB_Admin
    end

    Mode -.->|åˆ‡æ¢ç™»å½•| Auth[Supabase Auth]
    
    style Visitor fill:#e1f5fe,stroke:#01579b
    style Admin fill:#fff3e0,stroke:#ff6f00
```

### 3.1 è®¿å®¢è½¨é“ (Visitor Track)
*   **æœºåˆ¶**ï¼šä½¿ç”¨æµè§ˆå™¨æŒ‡çº¹ä½œä¸ºä¸»é”®ã€‚
*   **é…é¢**ï¼šæ¯ä½è®¿å®¢æ‹¥æœ‰ç‹¬ç«‹çš„å…è´¹ AI è§£ææ¬¡æ•°ï¼ˆé»˜è®¤ 1 æ¬¡ï¼‰å’Œäº‹ä»¶å­˜å‚¨ç©ºé—´ï¼ˆé»˜è®¤ 3 ä¸ªï¼‰ã€‚
*   **ç”Ÿå‘½å‘¨æœŸ**ï¼šæ•°æ®ä¿ç•™ 30 å¤©ï¼Œé€šè¿‡æ•°æ®åº“ Trigger è‡ªåŠ¨æ¸…ç†è¿‡æœŸæ•°æ®ï¼Œä¿æŒç³»ç»Ÿè½»é‡ã€‚

### 3.2 ç®¡ç†å‘˜è½¨é“ (Admin Track)
*   **æœºåˆ¶**ï¼šåŸºäº JWT çš„æ ‡å‡†ç”¨æˆ·è®¤è¯ã€‚
*   **æƒé™**ï¼šæ— é™åˆ¶çš„ AI è°ƒç”¨ã€æ— é™äº‹ä»¶å­˜å‚¨ã€‚
*   **ç›‘æ§**ï¼šç®¡ç†å‘˜æ‹¥æœ‰ä¸Šå¸è§†è§’ï¼Œå¯æŸ¥çœ‹ `MonitoringPage`ï¼Œå®æ—¶ç›‘æ§è®¿å®¢æ´»è·ƒåº¦ä¸ Token æ¶ˆè€—ã€‚

---

## âš¡ 4. æ ¸å¿ƒäº®ç‚¹è¯¦è§£

### 4.1 ğŸ¤– æ™ºèƒ½è§£æå¼•æ“
åœ¨æµ®åŠ¨è¾“å…¥æ¡†ä¸­è¾“å…¥ä»»æ„åŒ…å«æ—¥ç¨‹ä¿¡æ¯çš„æ–‡æœ¬ï¼š
> â€œä¸‹å‘¨äº”æ™šä¸Š7ç‚¹åœ¨ä½“è‚²é¦†çœ‹æ¼”å”±ä¼šï¼Œæå‰åŠå°æ—¶å‡ºå‘â€

AI ä¼šè‡ªåŠ¨æå–ï¼š
*   **æ—¶é—´**ï¼šä¸‹å‘¨äº” 19:00 (è‡ªåŠ¨è®¡ç®—å…·ä½“æ—¥æœŸ)
*   **åœ°ç‚¹**ï¼šä½“è‚²é¦†
*   **æ ‡é¢˜**ï¼šçœ‹æ¼”å”±ä¼š
*   **æè¿°**ï¼šæå‰åŠå°æ—¶å‡ºå‘
*   **æ ‡ç­¾**ï¼šè‡ªåŠ¨åŒ¹é…å¦‚â€œå¨±ä¹â€ã€â€œå‡ºè¡Œâ€ç­‰æ ‡ç­¾

### 4.2 â±ï¸ åŠ¨æ€å€’è®¡æ—¶ç³»ç»Ÿ
*   **æœªæ¥äº‹ä»¶**ï¼šæ˜¾ç¤ºâ€œè¿˜æœ‰ 3 å¤© 5 å°æ—¶å¼€å§‹â€
*   **è¿›è¡Œä¸­**ï¼šæ˜¾ç¤ºâ€œè¿˜æœ‰ 2 å°æ—¶ç»“æŸâ€
*   **å†å²äº‹ä»¶**ï¼šæ˜¾ç¤ºâ€œå·²ç»“æŸ 5 å¤©â€
*   **è‡ªé€‚åº”å•ä½**ï¼šæ ¹æ®æ—¶é•¿è‡ªåŠ¨åˆ‡æ¢ å¤©/æ—¶/åˆ† æ˜¾ç¤ºæ¨¡å¼ã€‚

### 4.3 ğŸ“… æ™ºèƒ½æ¨¡æ¿åº“
é’ˆå¯¹é‡å¤æ€§æ—¥ç¨‹ï¼ˆå¦‚â€œå‘¨ä¼šâ€ã€â€œå¥èº«â€ï¼‰ï¼Œç³»ç»Ÿæä¾›å¼ºå¤§çš„æ¨¡æ¿åŠŸèƒ½ï¼š
*   **ä¸€é”®åº”ç”¨**ï¼šä¿å­˜å¸¸ç”¨äº‹ä»¶ä¸ºæ¨¡æ¿ï¼Œä¸‹æ¬¡ç›´æ¥è°ƒç”¨ï¼Œä»…éœ€å¾®è°ƒæ—¶é—´ã€‚
*   **æ—¶é•¿é¢„è®¾**ï¼šè‡ªåŠ¨è®°å½•äº‹ä»¶æ—¶é•¿ï¼Œåˆ›å»ºæ—¶è‡ªåŠ¨å¡«å……ç»“æŸæ—¶é—´ã€‚
*   **æ ‡ç­¾ç»§æ‰¿**ï¼šæ¨¡æ¿å…³è”çš„æ ‡ç­¾ä¼šè‡ªåŠ¨åº”ç”¨åˆ°æ–°äº‹ä»¶ã€‚

### 4.4 ğŸ” ç»„åˆå¼æœç´¢ä¸ç­›é€‰
è¶…è¶Šç®€å•çš„å…³é”®è¯åŒ¹é…ï¼Œæä¾›å¤šç»´åº¦ç­›é€‰èƒ½åŠ›ï¼š
*   **ç»„åˆç­›é€‰**ï¼šæ”¯æŒ `å…³é”®è¯` + `æ—¥æœŸèŒƒå›´`ï¼ˆä»Šå¤©/æœ¬å‘¨/æœ¬æœˆï¼‰+ `åœ°ç‚¹` + `æ ‡ç­¾` çš„äº¤é›†ç­›é€‰ã€‚
*   **æ™ºèƒ½è”æƒ³**ï¼šè‡ªåŠ¨æå–ç°æœ‰äº‹ä»¶ä¸­çš„æ‰€æœ‰åœ°ç‚¹å’Œæ ‡ç­¾ä¾›é€‰æ‹©ã€‚
*   **å®æ—¶åé¦ˆ**ï¼šç­›é€‰ç»“æœå®æ—¶æ›´æ–°ï¼Œå¹¶æ˜¾ç¤ºåŒ¹é…æ•°é‡ã€‚

### 4.5 ğŸ“Š æ‰¹é‡ç®¡ç†ä¸ç»Ÿè®¡
*   **æ‰¹é‡æ“ä½œ**ï¼ˆä»…ç®¡ç†å‘˜ï¼‰ï¼š
    *   åœ¨åˆ—è¡¨è§†å›¾ä¸­å¤šé€‰äº‹ä»¶ã€‚
    *   **æ‰¹é‡ç¼–è¾‘**ï¼šç»Ÿä¸€ä¿®æ”¹åœ°ç‚¹æˆ–æè¿°ä¿¡æ¯ã€‚
    *   **æ‰¹é‡åˆ é™¤**ï¼šä¸€é”®æ¸…ç†è¿‡æœŸæˆ–é”™è¯¯æ•°æ®ã€‚
*   **å¯è§†åŒ–ç»Ÿè®¡**ï¼š
    *   **æ—¶é—´åˆ†å¸ƒ**ï¼šæŒ‰æ—¥/å‘¨/æœˆæŸ¥çœ‹äº‹ä»¶å¯†åº¦ã€‚
    *   **åŠ¨æ€å›¾è¡¨**ï¼šå›¾è¡¨é¢œè‰²éšç³»ç»Ÿä¸»é¢˜ï¼ˆæ·±è‰²/æµ…è‰²ï¼‰è‡ªåŠ¨é€‚é…ã€‚

### 4.6 ğŸ”„ æ•°æ®è‡ªç”±æµè½¬
*   **å¯¼å…¥å¯¼å‡º**ï¼šæ”¯æŒæ ‡å‡† `.ics` (iCal) å’Œ `.json` æ ¼å¼ã€‚
*   **å†²çªç­–ç•¥**ï¼šå¯¼å…¥æ—¶å¯é€‰æ‹© `è·³è¿‡`ã€`è¦†ç›–` æˆ– `ä¿ç•™å‰¯æœ¬`ï¼Œç¡®ä¿æ•°æ®å®‰å…¨ã€‚
*   **é€‰æ‹©æ€§å¯¼å‡º**ï¼šæ”¯æŒå¯¼å‡ºå…¨éƒ¨æ•°æ®æˆ–ä»…å¯¼å‡ºé€‰ä¸­çš„ç‰¹å®šäº‹ä»¶ã€‚

---

## ğŸš€ 5. å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
*   Node.js >= 16.x
*   Supabase è´¦å·ï¼ˆå…è´¹ç‰ˆå³å¯ï¼‰
*   LLM API Key (æ¨èæ™ºè°± AI æˆ– OpenAI)

### 5.1 å®‰è£…ä¸è¿è¡Œ

1.  **å…‹éš†é¡¹ç›®**
    ```bash
    git clone https://github.com/your-username/calenparse.git
    cd calenparse
    ```

2.  **å®‰è£…ä¾èµ–**
    ```bash
    npm install
    ```

3.  **é…ç½®ç¯å¢ƒå˜é‡**
    å¤åˆ¶ `.env.example` ä¸º `.env` å¹¶å¡«å…¥é…ç½®ï¼š
    ```env
    VITE_SUPABASE_URL=https://your-project.supabase.co
    VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
    VITE_LLM_API_KEY=your_llm_api_key
    ```

4.  **æ•°æ®åº“åˆå§‹åŒ–**
    åœ¨ Supabase SQL Editor ä¸­æ‰§è¡Œ `supabase-init.sql` è„šæœ¬ï¼Œåˆ›å»ºè¡¨ç»“æ„ä¸å®‰å…¨ç­–ç•¥ (RLS)ã€‚

5.  **å¯åŠ¨å¼€å‘æœ**
    ```bash
    npm run dev
    ```

---

## ğŸ“‚ 6. é¡¹ç›®ç»“æ„

```
calenparse/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # ä¸šåŠ¡ç»„ä»¶ (PascalCase)
â”‚   â”‚   â”œâ”€â”€ CalendarView.vue      # å…¨åŠŸèƒ½æ—¥å†è§†å›¾
â”‚   â”‚   â”œâ”€â”€ FloatingInput.vue     # AI è¾“å…¥æ ¸å¿ƒç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ BatchOperationBar.vue # æ‰¹é‡æ“ä½œæ 
â”‚   â”‚   â”œâ”€â”€ StatisticsView.vue    # ç»Ÿè®¡åˆ†æå›¾è¡¨
â”‚   â”‚   â”œâ”€â”€ TemplateManager.vue   # æ¨¡æ¿ç®¡ç†
â”‚   â”‚   â””â”€â”€ MonitoringPage.vue    # ç®¡ç†å‘˜ç›‘æ§çœ‹æ¿
â”‚   â”œâ”€â”€ composables/         # ç»„åˆå¼å‡½æ•° (Hooks)
â”‚   â”‚   â”œâ”€â”€ useLLM.ts             # AI æ¥å£å°è£…
â”‚   â”‚   â”œâ”€â”€ useAuth.ts            # æƒé™ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ useSearch.ts          # æœç´¢é€»è¾‘
â”‚   â”‚   â””â”€â”€ useVisitorEvents.ts   # è®¿å®¢æ•°æ®é€»è¾‘
â”‚   â”œâ”€â”€ utils/               # å·¥å…·åº“
â”‚   â”‚   â”œâ”€â”€ date.ts               # æ—¥æœŸå¤„ç†æ ¸å¿ƒ
â”‚   â”‚   â””â”€â”€ import-export.ts      # iCal/JSON è½¬æ¢
â”‚   â””â”€â”€ App.vue              # æ ¹ç»„ä»¶
â”œâ”€â”€ supabase-init.sql        # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â””â”€â”€ README.md                # é¡¹ç›®æ–‡æ¡£
```

---

## ğŸ¤ è´¡çŒ®ä¸åè®®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

*   **License**: [MIT License](LICENSE)
*   **Author**: Kiro

---
