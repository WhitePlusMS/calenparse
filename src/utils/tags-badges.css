/* Tags and Badges Design System */
/* Requirement 14.1, 14.2, 14.3, 14.4: Optimized tag and badge design */

/* Base Tag Styles */
/* Requirement 14.1: Rounded rectangles with soft background colors */
.tag {
	display: inline-flex;
	align-items: center;
	gap: var(--spacing-xs);
	padding: var(--spacing-xs) var(--spacing-md);
	border-radius: var(--radius-lg);
	font-size: var(--font-size-xs);
	font-weight: var(--font-weight-semibold);
	line-height: var(--line-height-tight);
	white-space: nowrap;
	transition: all 0.2s ease;
	border: 1px solid transparent;
	cursor: default;
	user-select: none;
}

/* Requirement 14.2: Text color matches background color */
/* Generate contrasting text colors based on background */
.tag--light {
	background-color: rgba(102, 126, 234, 0.1);
	color: var(--primary-dark);
	border-color: rgba(102, 126, 234, 0.2);
}

.tag--solid {
	background-color: var(--primary-color);
	color: white;
	border-color: var(--primary-color);
	box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12);
}

/* Requirement 14.4: Clickable tags with hover effect */
.tag--clickable {
	cursor: pointer;
}

.tag--clickable:hover {
	transform: translateY(-1px);
	box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
	filter: brightness(1.05);
}

.tag--clickable:active {
	transform: translateY(0);
	box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12);
}

/* Tag sizes */
.tag--xs {
	padding: 2px var(--spacing-sm);
	font-size: 10px;
	border-radius: var(--radius-sm);
}

.tag--sm {
	padding: var(--spacing-xs) var(--spacing-sm);
	font-size: var(--font-size-xs);
	border-radius: var(--radius-md);
}

.tag--md {
	padding: var(--spacing-xs) var(--spacing-md);
	font-size: var(--font-size-sm);
	border-radius: var(--radius-lg);
}

.tag--lg {
	padding: var(--spacing-sm) var(--spacing-lg);
	font-size: var(--font-size-base);
	border-radius: var(--radius-xl);
}

/* Tag with icon */
.tag__icon {
	font-size: 1.1em;
	line-height: 1;
	flex-shrink: 0;
}

.tag__text {
	line-height: 1;
}

.tag__close {
	margin-left: var(--spacing-xs);
	font-size: 1.2em;
	line-height: 1;
	cursor: pointer;
	opacity: 0.7;
	transition: opacity 0.2s ease;
	flex-shrink: 0;
}

.tag__close:hover {
	opacity: 1;
}

/* Requirement 14.3: Multiple tags with appropriate spacing */
.tag-group {
	display: flex;
	flex-wrap: wrap;
	gap: var(--spacing-sm);
	align-items: center;
}

.tag-group--compact {
	gap: var(--spacing-xs);
}

.tag-group--spacious {
	gap: var(--spacing-md);
}

/* Badge Styles */
/* Badges are similar to tags but typically used for status indicators */
.badge {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	padding: 2px var(--spacing-sm);
	border-radius: var(--radius-md);
	font-size: var(--font-size-xs);
	font-weight: var(--font-weight-semibold);
	line-height: var(--line-height-tight);
	white-space: nowrap;
	border: 1px solid;
	transition: all 0.2s ease;
}

/* Badge variants */
.badge--primary {
	background-color: rgba(102, 126, 234, 0.1);
	color: var(--primary-dark);
	border-color: rgba(102, 126, 234, 0.3);
}

.badge--success {
	background-color: rgba(22, 163, 74, 0.1);
	color: #15803d;
	border-color: rgba(22, 163, 74, 0.3);
}

.badge--warning {
	background-color: rgba(202, 138, 4, 0.1);
	color: #a16207;
	border-color: rgba(202, 138, 4, 0.3);
}

.badge--error {
	background-color: rgba(220, 38, 38, 0.1);
	color: #b91c1c;
	border-color: rgba(220, 38, 38, 0.3);
}

.badge--info {
	background-color: rgba(37, 99, 235, 0.1);
	color: #1e40af;
	border-color: rgba(37, 99, 235, 0.3);
}

.badge--neutral {
	background-color: var(--bg-hover);
	color: var(--text-secondary);
	border-color: var(--border-color);
}

/* Dark mode adjustments */
:root.dark-mode .badge--primary {
	background-color: rgba(102, 126, 234, 0.2);
	color: var(--primary-light);
	border-color: rgba(102, 126, 234, 0.4);
}

:root.dark-mode .badge--success {
	background-color: rgba(34, 197, 94, 0.2);
	color: #4ade80;
	border-color: rgba(34, 197, 94, 0.4);
}

:root.dark-mode .badge--warning {
	background-color: rgba(251, 191, 36, 0.2);
	color: #fbbf24;
	border-color: rgba(251, 191, 36, 0.4);
}

:root.dark-mode .badge--error {
	background-color: rgba(239, 68, 68, 0.2);
	color: #f87171;
	border-color: rgba(239, 68, 68, 0.4);
}

:root.dark-mode .badge--info {
	background-color: rgba(59, 130, 246, 0.2);
	color: #60a5fa;
	border-color: rgba(59, 130, 246, 0.4);
}

/* Badge with dot indicator */
.badge--dot {
	padding-left: var(--spacing-xs);
}

.badge__dot {
	width: 6px;
	height: 6px;
	border-radius: var(--radius-full);
	margin-right: var(--spacing-xs);
	flex-shrink: 0;
}

.badge--primary .badge__dot {
	background-color: var(--primary-color);
}

.badge--success .badge__dot {
	background-color: var(--success-color);
}

.badge--warning .badge__dot {
	background-color: var(--warning-color);
}

.badge--error .badge__dot {
	background-color: var(--error-color);
}

.badge--info .badge__dot {
	background-color: var(--info-color);
}

/* Badge count (for notification badges) */
.badge--count {
	min-width: 20px;
	height: 20px;
	padding: 0 6px;
	border-radius: var(--radius-full);
	font-size: 11px;
	font-weight: var(--font-weight-bold);
}

/* Colored tags with dynamic backgrounds */
/* These classes are for tags with custom colors */
.tag--colored {
	color: white;
	border: none;
	box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);
}

/* Ensure text is readable on colored backgrounds */
.tag--colored.tag--light-bg {
	color: rgba(0, 0, 0, 0.85);
}

/* Tag list with overflow handling */
/* Requirement 14.5: Show ellipsis and expand button when too many tags */
.tag-list {
	display: flex;
	flex-wrap: wrap;
	gap: var(--spacing-sm);
	align-items: center;
}

.tag-list--limited {
	flex-wrap: nowrap;
	overflow: hidden;
}

.tag-list__more {
	display: inline-flex;
	align-items: center;
	padding: var(--spacing-xs) var(--spacing-sm);
	border-radius: var(--radius-md);
	font-size: var(--font-size-xs);
	font-weight: var(--font-weight-medium);
	color: var(--text-secondary);
	background-color: var(--bg-hover);
	border: 1px solid var(--border-light);
	cursor: pointer;
	transition: all 0.2s ease;
	white-space: nowrap;
}

.tag-list__more:hover {
	background-color: var(--bg-color);
	color: var(--text-primary);
	border-color: var(--border-color);
	transform: translateY(-1px);
	box-shadow: 0 2px 4px var(--shadow);
}

/* Animated tag entrance */
@keyframes tagSlideIn {
	from {
		opacity: 0;
		transform: scale(0.8) translateY(-4px);
	}
	to {
		opacity: 1;
		transform: scale(1) translateY(0);
	}
}

.tag--animated {
	animation: tagSlideIn 0.3s ease-out;
}

/* Tag filter/selection state */
.tag--selected {
	background-color: var(--primary-color);
	color: white;
	border-color: var(--primary-dark);
	box-shadow: 0 2px 6px rgba(102, 126, 234, 0.3);
}

.tag--selected:hover {
	background-color: var(--primary-light);
	border-color: var(--primary-color);
}

/* Responsive adjustments */
@media (max-width: 768px) {
	.tag {
		font-size: 11px;
		padding: 3px var(--spacing-sm);
	}

	.tag--md {
		font-size: var(--font-size-xs);
		padding: var(--spacing-xs) var(--spacing-sm);
	}

	.tag--lg {
		font-size: var(--font-size-sm);
		padding: var(--spacing-xs) var(--spacing-md);
	}

	.tag-group {
		gap: 6px;
	}

	.badge {
		font-size: 10px;
		padding: 2px 6px;
	}
}

@media (max-width: 480px) {
	.tag {
		font-size: 10px;
		padding: 2px 6px;
	}

	.tag--md {
		font-size: 11px;
		padding: 3px var(--spacing-sm);
	}

	.tag-group {
		gap: 4px;
	}

	.badge {
		font-size: 9px;
		padding: 1px 5px;
	}

	.badge--count {
		min-width: 18px;
		height: 18px;
		font-size: 10px;
	}
}

/* Accessibility: Ensure sufficient contrast */
@media (prefers-contrast: high) {
	.tag,
	.badge {
		border-width: 2px;
	}

	.tag--light,
	.badge--primary,
	.badge--success,
	.badge--warning,
	.badge--error,
	.badge--info {
		font-weight: var(--font-weight-bold);
	}
}

/* Print styles */
@media print {
	.tag,
	.badge {
		border: 1px solid #000;
		box-shadow: none;
	}

	.tag--clickable:hover,
	.tag-list__more:hover {
		transform: none;
		box-shadow: none;
	}
}
